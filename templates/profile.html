{% extends "base.html" %}
{% block content %}

<div class="container" style="margin-top: 80px">
  
  {% if messages %}
      <div class="container mt-3">
          {% for message in messages %}
              <div class="notification is-success">
                  <button class="delete"></button>
                  {{ message }}
              </div>
          {% endfor %}
      </div>
  {% endif %}

  <div class="tabs is-boxed">
    <ul>
        <li class="is-active"><a href="{% url 'profile' %}">Profile</a></li>
        <li><a href="/password_change/">Password</a></li>
    </ul>
  </div>
  
  <h2 class="title">User Profile</h2>
  
    <label class="label">Username:</label>
    <div class="box">{{ user.username }}</div>
  </div>


<script>
    document.addEventListener('DOMContentLoaded', () => {
    (document.querySelectorAll('.notification .delete') || []).forEach(($delete) => {
      const $notification = $delete.parentNode;
      
      // Auto-hide after 4 seconds
      setTimeout(() => {
        $notification.style.display = 'none';
      }, 5000);

      $delete.addEventListener('click', () => {
        $notification.parentNode.removeChild($notification);
      });
    });
  });

</script>
{% endblock %}